<!--
    templateType: page
    isAvailableForNewContent: true
-->
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    {% if content.html_title %}<title>{{ content.html_title }}</title>{% endif %}
    <meta name="description" content="{{ content.meta_description }}">
    {{ standard_header_includes }}
    {{ include_css('./style.css') }}
  </head>
  <body>
    {% set all_shows = hubdb_table_rows('theater_plays') %}
    {{ start_show }}
    <main>
      <h2>Current and Upcoming Shows</h2>
      <table>
        <thead>
          <th>Poster</th>
          <th>Show</th>
          <th>Venue</th>
          <th>Schedule</th>
        </thead>
        <tbody>
          {% for row in all_shows %}
          {% set all_time = row.start_show|unixtimestamp %}
          {% set current_time = local_dt|unixtimestamp %}

            {% if all_time >= current_time %}
              <tr>
                <td><a href="show-details/{{ row.hs_path }}" class="hs-featured-image-link"> <img src="{{ row.poster_name.url }}" /></a></td>
                <td>{{ row.name }}</td>
                <td>{{ row.venue }}</td>
                <td>{{ row.start_show|datetimeformat("%B %e, %Y %l %p") }} </td>
              </tr>
            {% endif %}
          {% endfor %} 
        </tbody>
      </table>
    </main>
    
    <main>
      <h2>Previous Shows</h2>
      <table>
      <thead>
        <th>Poster</th>
        <th>Show</th>
        <th>Venue</th>
        <th>Schedule</th>
      </thead>
      <tbody>
        {% for row in all_shows %}
        {% set all_time = row.start_show|unixtimestamp %}
        {% set current_time = local_dt|unixtimestamp %}

          {% if all_time <= current_time %}
            <tr>
              <td><a href="show-details/{{ row.hs_path }}" class="hs-featured-image-link"> <img src="{{ row.poster_name.url }}" /></a></td>
              <td>{{ row.name }}</td>
              <td>{{ row.venue }}</td>
              <td>{{ row.start_show|datetimeformat("%B %e, %Y %l %p") }} </td>
            </tr>
          {% endif %}
        {% endfor %} 
      </tbody>
    </table>
    </main>
    
    {{ standard_footer_includes }}
  </body>
  
<style>
table {
  font-family: Arial, Helvetica, sans-serif;
  border-collapse: collapse;
  width: 100%;
}

td, th {
  border: 1px solid #9c0702;
  padding: 8px;
}

tr:nth-child(even){
  background-color: #f2f2f2;
}

tr:hover {
  background-color: #ddd;
}

th {
  padding-top: 12px;
  padding-bottom: 12px;
  text-align: left;
  background-color: #9c0702;
  color: white;
}
  img{
    width: 160px;
  }
</style>
</html>